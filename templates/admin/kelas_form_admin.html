{% extends "admin/layout_admin.html" %}

{% block title %}{{ action }} Kelas{% endblock %}

{% block content %}
    <h1>{{ action }} Kelas</h1>
    <form method="POST" action="{{ url_for('edit_kelas_admin', kelas_id=kelas_data.id_kelas) if action == 'Edit' else url_for('add_kelas_admin') }}">
        <div class="mb-3">
            <label for="deskripsi" class="form-label">Deskripsi</label>
            <textarea class="form-control" id="deskripsi" name="deskripsi" rows="3">{{ kelas_data.deskripsi if kelas_data and kelas_data.deskripsi is not none else '' }}</textarea>
        </div>
        <button type="submit" class="btn btn-primary">{{ action }} Kelas</button>
        <div class="mb-3">
            <label for="nama_kelas" class="form-label">Nama Kelas</label>
            <input type="text" class="form-control" id="nama_kelas" name="nama_kelas" value="{{ kelas_data.nama_kelas if kelas_data else '' }}" required>
        </div>
        <div class="mb-3">
            <label for="tahun_ajaran" class="form-label">Tahun Ajaran (Contoh: 2024/2025)</label>
            <input type="text" class="form-control" id="tahun_ajaran" name="tahun_ajaran" value="{{ kelas_data.tahun_ajaran if kelas_data else '' }}" required>
        </div>
        <div class="mb-3">
            <label for="id_wali_kelas" class="form-label">Wali Kelas</label>
            <select class="form-select" id="id_wali_kelas" name="id_wali_kelas">
                <option value="">-- Pilih Guru --</option>
                {% for guru in list_guru %}
                <option value="{{ guru.id_pengguna }}" {% if kelas_data and kelas_data.id_wali_kelas == guru.id_pengguna %}selected{% endif %}>{{ guru.nama_lengkap }}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit" class="btn btn-primary">{{ action }} Kelas</button>
        <a href="{{ url_for('kelas_admin') }}" class="btn btn-secondary">Batal</a>
    </form>
{% endblock %}